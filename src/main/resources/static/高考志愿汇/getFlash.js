/*! wanmeizhiyuan 2019-07-09 */

define(function(){var ept={keys:function(obj){var hasOwn={}.hasOwnProperty,DONT_ENUM="propertyIsEnumerable,isPrototypeOf,hasOwnProperty,toLocaleString,toString,valueOf,constructor".split(","),result=[];for(var key in obj)hasOwn.call(obj,key)&&result.push(key);if(DONT_ENUM&&obj)for(var i=0;key=DONT_ENUM[i++];)hasOwn.call(obj,key)&&result.push(key);return result},queryString:function(obj,_key,simForm){simForm=void 0==simForm||simForm;var str=[],isarray=simForm&&"[object Array]"==Object.prototype.toString.call(obj);if(isarray&&0==obj.length)return"";if("object"==typeof obj){var keys=[];if(isarray)for(var i=0,len=obj.length;i<len;i++)keys.push(i);else keys=this.keys(obj);for(var i=0,len=keys.length;i<len;i++){var key=keys[i],value=obj[key],type=typeof value;if("object"==type)str.push(this.queryString(obj[key],key,simForm));else{if("function"==type&&"object"!=type&&(value=""),void 0===value||null===value||isarray&&0==obj.length)continue;"string"==type&&(value=encodeURIComponent(value)),_key?isarray?str.push(_key+"="+value):str.push(_key+"["+key+"]="+value):str.push(key+"="+value)}}}return _key&&0==str.length?_key+"=":str.join("&")},getFlash:function($container,info,flashvars,params){if(-1==info.src.toLowerCase().indexOf(".swf"))return void this.getVideo($container,info,flashvars,params);flashvars="object"==typeof flashvars?this.queryString(flashvars):flashvars&&flashvars.replace(/"/g,"&quot;"),params=params||{};var html,pArrkeys=Object.keys(params),getFlashStr='<a href="//www.adobe.com/go/getflash"><img src="//www.adobe.com/images/shared/download_buttons/get_flash_player.gif" alt="获得 Adobe Flash Player" /></a>',phtml="";if(info.id=info.id||"iPIN_flash"+(1e6*Math.random()|0),info.width=info.width||1,info.height=info.height||1,"classid"in document.createElement("object")){for(var i=0,len=pArrkeys.length;i<len;i++)phtml+='<param name="'+pArrkeys[i]+'" value="'+params[pArrkeys[i]]+'" />';html='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" name="'+info.id+'" '+(info.id?'id="'+info.id+'" ':"")+'width="'+info.width+'" height="'+info.height+'"><param name="allowScriptAccess" value="'+(info.allowScriptAccess?info.allowScriptAccess:"always")+'" /><param name="quality" value="high" /><param name="wmode" value="'+(info.wmode?info.wmode:"window")+'" /><param name="movie" value="'+info.src+'" />'+(flashvars?'<param name="flashvars" value="'+flashvars+'" />':"")+phtml+getFlashStr}else{for(var i=0,len=pArrkeys.length;i<len;i++)phtml+=" "+pArrkeys[i]+'="'+params[pArrkeys[i]]+'"';html='<embed style="width:'+info.width+"px;height:"+info.height+'px;" wmode="'+(info.wmode?info.wmode:"window")+'" src="'+info.src+'" quality="high" name="'+info.id+'" '+(info.id?'id="'+info.id+'" ':"")+(flashvars?'flashVars="'+flashvars+'" ':"")+'width="'+info.width+'" height="'+info.height+'" allowScriptAccess="'+(info.allowScriptAccess?info.allowScriptAccess:"always")+'" '+phtml+'type="application/x-shockwave-flash"/>'}return"function"==typeof $container.html&&"function"==typeof $container.children?($container.html(html),$container.children()):($container.innerHTML=html,$container.firstChild)},getVideo:function($container,info){info.type=info.type||"video/mp4",info.autoplay=info.autoplay||!0;var style="";info.width&&(style+="width:"+parseInt(info.width)+"px;"),info.height&&(style+="height:"+parseInt(info.height)+"px;");var html='<video controls="controls" '+(info.autoplay?"autoplay":"")+' name="media" style="'+style+'"><source src="'+info.src+'" type="'+info.type+'"></video>';return"function"==typeof $container.html&&"function"==typeof $container.children?($container.html(html),$container.children()):($container.innerHTML=html,$container.firstChild)}};return function(){ept.getFlash.apply(ept,arguments)}});
//# sourceMappingURL=getFlash.js.map