/*! wanmeizhiyuan 2019-07-09 */

define(["jquery","pin","ui/ux","request","page/head","widget/search"],function($,pin,ux,Req,headjs,SearchWidget){pin.getCfg;return{json:$.extend({},window.PageData),jq:$,init:function(){this.onViewReady(),headjs.init()},onViewReady:function(){this.initEvent(),$(".g-school .searchBar").each(function(i,searchBar){SearchWidget.init(searchBar)})},initEvent:function(){var that=this;$(document.body).on("click",".tag",function(e){var target=$(e.target),value=target.data("value");console.log(value),that.json.params[$(target).parent().attr("id")]!=value&&(that.json.params[$(target).parent().attr("id")]=value,that.json.params.page=1,window.location="school-"+that.json.params.prov_filter+"-"+that.json.params.type_filter+"-"+that.json.params.diploma_filter+"-"+that.json.params.flag_filter)}),$(document.body).on("click",".page",function(e){var target=$(e.target),value=target.attr("value");that.json.params.page==value?$("body,html").animate({scrollTop:0},500):(that.json.params.page=value,that.reload())})},reload:function(){Req.getSchList(this.json.params,function(root){$("#school_block").html(root.data.htmlStr)})}}});
//# sourceMappingURL=sch_filter.js.map